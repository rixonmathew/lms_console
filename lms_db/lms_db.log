/*C11*/SET SCHEMA PUBLIC
create sequence member_property_id_seq as bigint start with 100 increment by 1
create sequence item_type_id_seq as bigint start with 100 increment by 1
create sequence role_id_seq as bigint start with 100 increment by 1
create sequence feature_id_seq as bigint start with 100 increment by 1
create sequence role_feature_id_seq as bigint start with 100 increment by 1
create sequence member_role_id_seq as bigint start with 100 increment by 1
create sequence transaction_type_id_seq as bigint start with 100 increment by 1
create sequence item_id_seq as bigint start with 100 increment by 1
create sequence category_id_seq as bigint start with 100 increment by 1
create sequence property_id_seq as bigint start with 100 increment by 1
create sequence item_property_id_seq as bigint start with 100 increment by 1
ALTER TABLE PROPERTY ADD FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY (ID)\u000a\u000a
ALTER TABLE ITEM_PROPERTY ADD FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY (ID)\u000a\u000a
ALTER TABLE ITEM_PROPERTY ADD FOREIGN KEY (ITEM_ID) REFERENCES ITEM (ID)\u000a
ALTER TABLE ITEM_TYPE_PROPERTY ADD FOREIGN KEY (ITEM_TYPE_ID) REFERENCES ITEM_TYPE (ID)
ALTER TABLE ITEM_INSTANCE ADD FOREIGN KEY (ITEM_ID) REFERENCES ITEM (ID)
ALTER TABLE ITEM_INSTANCE_PROPERTY ADD FOREIGN KEY (ITEM_INSTANCE_ID) REFERENCES ITEM_INSTANCE (ID)
ALTER TABLE ITEM_INSTANCE_PROPERTY ADD FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(ID)
ALTER TABLE ITEM_INSTANCE_TRANSACTION ADD FOREIGN KEY (TRANSACTION_ID) REFERENCES TRANSACTION_TYPE(ID)
drop table item_instance_transaction_property
CREATE TABLE ITEM_INSTANCE_TRANSACTION_PROPERTY\u000a(\u000a  ID             \u0009\u0009       INTEGER\u0009PRIMARY KEY,\u000a  ITEM_INSTANCE_TRANSACTION_ID         INTEGER  NOT NULL,\u000a  PROPERTY_ID     INTEGER              NOT NULL,\u000a  PROPERTY_VALUE  VARCHAR(4000)\u000a)
ALTER TABLE ITEM_INSTANCE_TRANSACTION_PROPERTY ADD FOREIGN KEY (ITEM_INSTANCE_TRANSACTION_ID) REFERENCES ITEM_INSTANCE_TRANSACTION(ID) \u000a\u000a
ALTER TABLE ITEM_INSTANCE_TRANSACTION_PROPERTY ADD FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(ID) \u000a
ALTER TABLE MEMBER_PROPERTY ADD FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(ID) \u000a\u000a
ALTER TABLE MEMBER_PROPERTY ADD FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(ID) \u000a
ALTER TABLE MEMBER_ROLE ADD FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(ID) 
ALTER TABLE MEMBER_ROLE ADD FOREIGN KEY (ROLE_ID) REFERENCES ROLE(ID) 
ALTER TABLE ROLE_FEATURE ADD FOREIGN KEY (ROLE_ID) REFERENCES ROLE(ID) \u000a\u000a
ALTER TABLE ROLE_FEATURE ADD FOREIGN KEY (FEATURE_ID) REFERENCES FEATURE(ID) \u000a
ALTER TABLE TRANSACTION_HISTORY ADD FOREIGN KEY (PARENT_TRANSACTION_ID) REFERENCES ITEM_INSTANCE_TRANSACTION (ID)\u000a\u000a
ALTER TABLE TRANSACTION_HISTORY ADD FOREIGN KEY (CHILD_TRANSACTION_ID) REFERENCES ITEM_INSTANCE_TRANSACTION (ID)\u000a\u000a
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.MEMBER_ID_SEQ RESTART WITH 109
INSERT INTO MEMBER VALUES(108,'Steve','Jobs','stevejobs@apple.com','apple123')
COMMIT
DELETE FROM MEMBER WHERE ID=108
COMMIT
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.MEMBER_ID_SEQ RESTART WITH 110
INSERT INTO MEMBER VALUES(109,'Steve','Jobs','stevejobs@apple.com','apple123')
COMMIT
DELETE FROM MEMBER WHERE ID=109
COMMIT
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/ALTER SEQUENCE PUBLIC.MEMBER_ID_SEQ RESTART WITH 111
INSERT INTO ROLE VALUES(100,'MEMBER','Member of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 101
INSERT INTO ROLE VALUES(101,'USER','Member of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 102
INSERT INTO ROLE VALUES(102,'ADMIN','Member of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 103
INSERT INTO ROLE VALUES(103,'GUEST','Member of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 104
DELETE FROM ROLE WHERE ID=100
DELETE FROM ROLE WHERE ID=101
DELETE FROM ROLE WHERE ID=102
DELETE FROM ROLE WHERE ID=103
COMMIT
INSERT INTO ROLE VALUES(104,'MEMBER','Member of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 105
INSERT INTO ROLE VALUES(105,'USER','Standard user  of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 106
INSERT INTO ROLE VALUES(106,'ADMIN','User with admin privileges of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 107
INSERT INTO ROLE VALUES(107,'GUEST','Guest user of the Library')
COMMIT
ALTER SEQUENCE PUBLIC.ROLE_ID_SEQ RESTART WITH 108
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.MEMBER_ID_SEQ RESTART WITH 112
INSERT INTO MEMBER VALUES(111,'Steve','Jobs','stevejobs@apple.com','apple123')
COMMIT
DELETE FROM MEMBER WHERE ID=111
COMMIT
DISCONNECT
